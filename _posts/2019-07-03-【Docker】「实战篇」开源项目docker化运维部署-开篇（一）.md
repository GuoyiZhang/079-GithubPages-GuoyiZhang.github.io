# 【Docker】「实战篇」开源项目docker化运维部署-开篇（一）

原创文章，欢迎转载。转载请注明：转载自[IT人故事会](https://idig8.com/)，谢谢！
原文链接地址：[「实战篇」开源项目docker化运维部署-开篇（一）](https://idig8.com/2019/01/29/shizhanpiankaiyuanxiangmudockerhuayunweibushu-kaipianyi/)
 
『高级篇』承诺了大家要找一个互联网开源项目进行docker的容器化部署，国人最擅长不是创新而是改造，腾讯不是都是走别人的人，让别人无路可走。github和gitee里面很多相对说比较好的开源项目，并不建议完全抄袭，其实别人有现成的为啥不拿来用，还要自己写，毕竟技术更新这么快，能在巨人的肩膀上，绝对不从海底慢慢爬。来说正式，这次我在网上找了一个不错的开源代码，[https://www.renren.io/community/project](https://www.renren.io/community/project) ，感谢作者的开源，咱们就在他的基础上开始吧！

![](//upload-images.jianshu.io/upload_images/11223715-17e663e373ab2d7f.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/940/format/webp)

### 目的

如果真对一个项目，做高负载，高可用，高性能部署方案。以互联网上一个开源项目为例，一起说说分布式集群运维部署整个过程。

* 大型项目
如果采用单节点，首选性能会很差，其次因为没有冗余节点，一旦某个节点的宕机，就会出现整个系统的业务停机。所有集群话的方案是必然的， 准备采用5节点的mysql集群，6节点的redis集群，3节点的tomcat集群，2个节点的nginx节点。除了上边说到的集群，需要掌握haproxy和 nginx。还会使用keeplive做到双机热备，这样部署后，高可用。这样就可以做到高可用，高性能，高负载。

1. 高速缓存
1. 数据库
1. 前端项目
1. 后端项目

### 跟我一起了解互联网的架构

1. 无状态session和有状态session。无状态容器。
1. 分布式架构设计。
1. docker如果完成分布式。
1. 大型互联网设计架构的方案

### 说说一般人的状态

启动下数据库，跑一个java项目，运行下前端的项目。根本看不到大型互联网高负载，高可用，高性能，都觉得自己写的代码很牛，但是仅限于开发的环境，如果在开发环境java内存溢出了，整个项目都看不了了，在开发环境下都是单节点的。也就是说你的代码写的在牛有什么用啊？在牛的代码服务挂了也没用啊 老铁！只有把代码部署到集群的环境下，才能体现出来高负载，高可用，高性能。所以集群必须有！

### 集群

前端有集群，后端有集群，redis是集群，mysql是集群都是集群。只有使用了集群才能让项目高可用，高性能，高可用。当初我开发的项目都是一个mysql来执行，一个mysql的响应就很慢，数据库使用了集群后，由多个数据库集群来响应请求，速度肯定比以前快的很多，如果某个数据库的节点挂掉了出现了宕机，还有提前的节点替代。集群多了是一方面，还需要负载均衡和双机热备，实际上比下图要复杂的多。

![](//upload-images.jianshu.io/upload_images/11223715-c992880d9e37b11f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp)

### 还想说

主要不是说开发的事情，也不是开发业务的模块上，重点是定位到技术经理，如何将项目进行集群的部署和集群的搭建上，我找的开源项目只是比较合适实战，如果老铁你手里有现成的项目，可以使用自己的项目。

1. 挂掉一个节点还有其他节点使用，这就是高可用吧？
1. 集群了处理的请求更多了，这就是高性能和高负载吧？

PS：除了高级篇之前的docker几个系列还比较接地气，如何将docker和实际的开发中串联起来。让docker真正的接地气。找个项目就开始干！

作者：IT人故事会
链接：https://www.jianshu.com/p/d7690df43a4c
来源：简书
简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。

