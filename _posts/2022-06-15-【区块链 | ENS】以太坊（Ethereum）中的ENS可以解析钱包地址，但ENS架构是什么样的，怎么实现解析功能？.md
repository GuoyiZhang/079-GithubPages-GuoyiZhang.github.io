---
layout:     post
title:      【区块链 | ENS】以太坊（Ethereum）中的ENS可以解析钱包地址，但ENS架构是什么样的，怎么实现解析功能？
subtitle:   【区块链 | ENS】以太坊（Ethereum）中的ENS可以解析钱包地址，但ENS架构是什么样的，怎么实现解析功能？
date:       2022-06-15 08:34:08
author:     Sunny day
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - ENS技术架构指南【系统分析】
    - p2p
    - 网络协议
    - 网络
---

>【区块链 | ENS】以太坊（Ethereum）中的ENS可以解析钱包地址，但ENS架构是什么样的，怎么实现解析功能？

# 【区块链 | ENS】以太坊（Ethereum）中的ENS可以解析钱包地址，但ENS架构是什么样的，怎么实现解析功能？


## ENS 架构

ENS 有两个主要组件：**注册表** 和 **解析器**。

![](https://img-blog.csdnimg.cn/img_convert/f73169d8ea4fe0cef1531760b0904f56.png)

ENS 注册表是一个智能合约，该合约维护所有名称和子名称列表，并存储关于每个名称的三个关键信息:
* 名称的所有者
* 名称的解析器
* 名称下所有记录的缓存存活时间（即 TTL）

名称的所有者可以是外部帐户（用户）或智能合约。注册器就是一个拥有顶级名称的智能合约，并按照合约中的规则将该名称的子名称分发给用户。

ENS 注册表中的名称所有者可以:
* 为名称设置解析器和 TTL
* 将名称的所有权转让给另一个地址
* 更改子名称的所有权

ENS 注册表非常简单，它的存在只是为了将名称映射到负责解析这个名称的解析器。

解析器负责将名称转换为地址。只要是符合解析器相关标准的智能合约，都可以在 ENS 中作为解析器程序。通用解析器服务于需求简单的用户，比如不经常更改地址的用户。

每个记录类型（以太坊地址、内容哈希等）都定义了一个或多个方法，解析器必须实现这些方法才能提供这类记录。新的记录类型可以随时通过 EIP 标准化程序进行定义，因此不需要为了支持它们而对 ENS 注册表或现有的解析器进行更改。

在 ENS 中解析一个名称需要两个步骤：首先，询问注册表是哪个解析器负责解析该名称&

