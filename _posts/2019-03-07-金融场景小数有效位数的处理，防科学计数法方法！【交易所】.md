# 金融场景小数有效位数的处理，防科学计数法方法！【交易所】


 函数直接上代码！
<?php function floattostr( $val ) { preg_match( "/#^([\+\-]|)([0-9]/*)(\.([0-9]/*?)|)(0/*)$/#", trim($val), $o ); return $o[1].sprintf('%d',$o[2]).($o[3]!='.'?$o[3]:''); } ?>

 

使用方法：
<?php echo floattostr("0000000000000001"); echo floattostr("1.00000000000000"); echo floattostr("0.00000000001000"); echo floattostr("0000.00010000000"); echo floattostr("000000010000000000.00000000000010000000000"); echo floattostr("-0000000000000.1"); echo floattostr("-00000001.100000"); // result // 1 // 1 // 0.00000000001 // 0.0001 // 10000000000.0000000000001 // -0.1 // -1.1 ?>

参考地址：

[http://php.net/manual/zh/function.floatval.php/#106367](http://php.net/manual/zh/function.floatval.php#106367)

